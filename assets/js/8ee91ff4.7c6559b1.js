"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[711],{8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var o=i(6540);const t={},r=o.createContext(t);function s(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(r.Provider,{value:n},e.children)}},8766:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"px-88/software-setup/os-screen","title":"OS & Screen","description":"Installing Raspberry Pi OS and configuring the display.","source":"@site/docs/px-88/software-setup/os-screen.md","sourceDirName":"px-88/software-setup","slug":"/px-88/software-setup/os-screen","permalink":"/docs/px-88/software-setup/os-screen","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"OS & Screen","sidebar_position":2,"description":"Installing Raspberry Pi OS and configuring the display."},"sidebar":"docsSidebar","previous":{"title":"Keyboard","permalink":"/docs/px-88/software-setup/keyboard"},"next":{"title":"Power Management HAT","permalink":"/docs/px-88/software-setup/power-management-hat"}}');var t=i(4848),r=i(8453);const s={title:"OS & Screen",sidebar_position:2,description:"Installing Raspberry Pi OS and configuring the display."},l=void 0,a={},d=[{value:"Flash OS &amp; Boot",id:"flash-os--boot",level:2},{value:"1.Flash Raspberry Pi OS Trixie",id:"1flash-raspberry-pi-os-trixie",level:3},{value:"2. Configure Display Support",id:"2-configure-display-support",level:3},{value:"3. First Boot",id:"3-first-boot",level:3},{value:"SSH into the Raspberry Pi",id:"ssh-into-the-raspberry-pi",level:2},{value:"Screen Rotation Configuration",id:"screen-rotation-configuration",level:2},{value:"1. Desktop Configuration",id:"1-desktop-configuration",level:3},{value:"2. Disable the On-Screen Keyboard",id:"2-disable-the-on-screen-keyboard",level:3},{value:"3. Terminal Configuration",id:"3-terminal-configuration",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"flash-os--boot",children:"Flash OS & Boot"}),"\n",(0,t.jsx)(n.h3,{id:"1flash-raspberry-pi-os-trixie",children:"1.Flash Raspberry Pi OS Trixie"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Connect the SD card to your computer"}),"\n",(0,t.jsxs)(n.li,{children:["Download and use ",(0,t.jsx)(n.a,{href:"https://www.raspberrypi.com/software/",children:"Raspberry Pi Imager"})," to flash the latest Raspberry Pi OS (32-bit) - Trixie to the SD card."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"OS customization",type:"tip",children:(0,t.jsxs)(n.p,{children:["I highly recommend configuring WiFi and SSH options in the imager under ",(0,t.jsx)(n.strong,{children:'"OS customization -> Edit Settings"'}),". This will allow the Pi to connect to your WiFi right after the first boot, and you can SSH in to more easily configure it. You can choose a hostname and username. For the purposes of this guide, we'll assume the hostname is ",(0,t.jsx)(n.code,{children:"typeframe.local"})," and the username is ",(0,t.jsx)(n.code,{children:"pi"}),". Leaving the username as ",(0,t.jsx)(n.code,{children:"pi"})," will make things easier on you later as it's hardcoded in some scripts."]})}),"\n",(0,t.jsx)(n.h3,{id:"2-configure-display-support",children:"2. Configure Display Support"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["After image flashing is completed, open the ",(0,t.jsx)(n.code,{children:"config.txt"})," file in the root directory of the SD card."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Add the following code at the end of ",(0,t.jsx)(n.code,{children:"config.txt"}),", save, and safely eject the SD card:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"dtoverlay=vc4-kms-v3d\n# DSI1 Use (recommended for Pi4B)\ndtoverlay=vc4-kms-dsi-waveshare-panel,7_9_inch\n# DSI0 Use (alternative)\n# dtoverlay=vc4-kms-dsi-waveshare-panel,7_9_inch,dsi0\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If you boot before adding this, you can SSH into the Pi and edit the file in ",(0,t.jsx)(n.code,{children:"/boot/firmware/config.txt"}),". Then reboot."]}),"\n",(0,t.jsx)(n.h3,{id:"3-first-boot",children:"3. First Boot"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Insert the SD card into the Raspberry Pi."}),"\n",(0,t.jsxs)(n.li,{children:["Plug the USB power cable into the Pi, ",(0,t.jsx)(n.em,{children:"not"})," the Power Management HAT if you have it installed."]}),"\n",(0,t.jsx)(n.li,{children:"The Raspberry Pi will power on - wait for a few seconds for the display to initialize."}),"\n",(0,t.jsx)(n.li,{children:"You're booted up - the touch screen should work, but you'll still need to rotate the screen."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ssh-into-the-raspberry-pi",children:"SSH into the Raspberry Pi"}),"\n",(0,t.jsxs)(n.p,{children:["If you configured WiFi and SSH in the imager, you can SSH into the Pi from your computer using the hostname you set (e.g., ",(0,t.jsx)(n.code,{children:"typeframe.local"}),"):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh pi@typeframe.local\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will allow you to copy and paste commands more easily than working directly on the PX-88."}),"\n",(0,t.jsx)(n.h2,{id:"screen-rotation-configuration",children:"Screen Rotation Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The default display orientation is portrait. We want it to be landscape. You'll need to set this in two places: one for the desktop environment and one for the terminal."}),"\n",(0,t.jsx)(n.h3,{id:"1-desktop-configuration",children:"1. Desktop Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open ",(0,t.jsx)(n.strong,{children:'"Control Centre" \u2192 "Screens"'})," from the desktop menu. ",(0,t.jsx)(n.em,{children:'In older versions of Raspberry Pi OS, this may be under "Preferences" \u2192 "Screen Configuration".'})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.strong,{children:'"Screens" \u2192 "DSI-2" \u2192 "Orientation"'}),', choose "Right", and finally click ',(0,t.jsx)(n.strong,{children:'"Apply"'})," to complete the display and touch synchronous rotation."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For detailed steps with images, see the ",(0,t.jsx)(n.a,{href:"https://www.waveshare.com/wiki/7.9inch_DSI_LCD#Bookworm_Touch_Screen_Rotation",children:"Waveshare wiki documentation"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"2-disable-the-on-screen-keyboard",children:"2. Disable the On-Screen Keyboard"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the on-screen keyboard will pop up whenever you select a text field. You'll find the option to disable it under ",(0,t.jsx)(n.strong,{children:'"Control Centre" \u2192 "Display" \u2192 "On-Screen Keyboard"'}),". Select ",(0,t.jsx)(n.strong,{children:'"Disabled"'}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"3-terminal-configuration",children:"3. Terminal Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"To rotate the display in the terminal, open the boot command line for editing."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo nano /boot/firmware/cmdline.txt\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Add the following command to the ",(0,t.jsx)(n.strong,{children:"beginning"})," of the first line in ",(0,t.jsx)(n.code,{children:"cmdline.txt"}),", followed by a space before the existing ",(0,t.jsx)(n.code,{children:"console="})," parameter:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"video=DSI-1:400x1280e,rotate=270\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For example:"})," If your ",(0,t.jsx)(n.code,{children:"cmdline.txt"})," currently starts with ",(0,t.jsx)(n.code,{children:"console=tty1 root=PARTUUID=..."}),", change it to:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"video=DSI-1:400x1280e,rotate=270 console=tty1 root=PARTUUID=...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Save the file and exit ",(0,t.jsx)(n.code,{children:"(Ctrl+X, Y, Enter)"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Restart to apply the rotation."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);